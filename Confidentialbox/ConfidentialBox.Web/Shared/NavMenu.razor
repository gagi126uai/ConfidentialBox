@inject NavigationManager NavigationManager

<div class="cbx-nav">
    <div class="cbx-nav__brand">
        <a href="/" class="cbx-nav__brand-link">
            <div class="cbx-nav__logo">
                <i class="fa-solid fa-lock"></i>
            </div>
            <div>
                <span class="cbx-nav__brand-title">ConfidentialBox</span>
                <span class="cbx-nav__brand-subtitle">Protección integral</span>
            </div>
        </a>
    </div>

    <div class="cbx-nav__section">
        <p class="cbx-nav__section-label">Principal</p>
        <NavLink class="cbx-nav__link" href="/dashboard" Match="NavLinkMatch.All">
            <i class="fa-solid fa-gauge-high"></i>
            <span>Dashboard</span>
        </NavLink>
        <NavLink class="cbx-nav__link" href="profile">
            <i class="fa-solid fa-user"></i>
            <span>Mi Perfil</span>
        </NavLink>
        <NavLink class="cbx-nav__link" href="files">
            <i class="fa-solid fa-folder-open"></i>
            <span>Mis Archivos</span>
        </NavLink>
        <NavLink class="cbx-nav__link" href="upload">
            <i class="fa-solid fa-cloud-arrow-up"></i>
            <span>Subir Archivo</span>
        </NavLink>
    </div>

    <AuthorizeView Roles="Admin">
        <div class="cbx-nav__section">
            <p class="cbx-nav__section-label">Seguridad</p>
            <NavLink class="cbx-nav__link" href="users">
                <i class="fa-solid fa-users"></i>
                <span>Usuarios</span>
            </NavLink>
            <NavLink class="cbx-nav__link" href="roles">
                <i class="fa-solid fa-user-shield"></i>
                <span>Roles y Permisos</span>
            </NavLink>
            <NavLink class="cbx-nav__link" href="audit">
                <i class="fa-solid fa-clipboard-list"></i>
                <span>Auditoría</span>
            </NavLink>
            <NavLink class="cbx-nav__link" href="settings">
                <i class="fa-solid fa-gear"></i>
                <span>Configuración</span>
            </NavLink>
        </div>
    </AuthorizeView>

    <AuthorizeView Roles="Admin,Auditor">
        <div class="cbx-nav__section">
            <p class="cbx-nav__section-label">Supervisión</p>
            <NavLink class="cbx-nav__link" href="ai-security">
                <i class="fa-solid fa-shield-halved"></i>
                <span>AI Security</span>
            </NavLink>
            <NavLink class="cbx-nav__link" href="all-files">
                <i class="fa-solid fa-table-list"></i>
                <span>Todos los Archivos</span>
            </NavLink>
        </div>
    </AuthorizeView>

    <div class="cbx-nav__footer">
        <span class="cbx-nav__status">
            <i class="fa-solid fa-lock"></i>
            Seguridad reforzada
        </span>
    </div>
</div>

@code {
    private bool collapseNavMenu = true;

    private string NavMenuCssClass => collapseNavMenu ? "collapse" : null;

    private void ToggleNavMenu()
    {
        collapseNavMenu = !collapseNavMenu;
    }
}
